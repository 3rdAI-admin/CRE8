# VS Code Setup for Context Engineering

This project includes VS Code-specific configuration for GitHub Copilot integration.

## Quick Start

### Automated Setup (Recommended)

Run the setup script from the project root:

```bash
./SETUP-VSCODE.sh
```

This script will:
1. ✅ Check VS Code CLI is available
2. ✅ Install GitHub Copilot and Copilot Chat extensions
3. ✅ Verify project structure and prompt files
4. ✅ Confirm settings are properly configured

### Manual Setup

1. **Install Prerequisites**
   - [VS Code](https://code.visualstudio.com/)
   - [GitHub Copilot Extension](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot)
   - [GitHub Copilot Chat Extension](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat)

2. **Open Project**
   ```bash
   code /path/to/context-engineering-intro
   ```

3. **Verify Settings Applied**
   - Open Settings (`Cmd+,`)
   - Search for "promptFiles" - should be enabled
   - Workspace settings in `.vscode/settings.json` apply automatically

4. **Use Commands**
   - Open Copilot Chat (`Cmd+Shift+I`)
   - Type `/` to see available commands

## Available Commands (execution order)

| Order | Command | Description |
|-------|---------|-------------|
| 1 | `/new-project` | Create a new project from the template; **copies all slash commands** into the new project—open it and continue with `/generate-prp`, etc. |
| 2 | `/generate-prp` | Generate a comprehensive PRP from INITIAL.md |
| 3 | `/generate-validate` | Analyze codebase and create **`/validate-project`** (once or after significant change) |
| 4 | `/build-prp` | Finalize PRP (review/edit), then optionally build and run (before implementing) |
| 5 | `/execute-prp` | Implement a feature from a PRP file |
| 6 | **`/validate-project`** | Run project-specific validation (from `/generate-validate`); use this, not `/validate` |
| 6b | `/validate` | Run template 8-phase validation (this repo only) |
| 7 | `/generate-prompt` | Generate XML-structured prompt with ambiguity detection |

## Directory Structure

```
.github/
├── copilot-instructions.md    # Global AI coding instructions
└── prompts/                   # Slash command definitions
    ├── README.md              # Command documentation
    ├── new-project.prompt.md  # /new-project command
    ├── generate-prp.prompt.md # /generate-prp command
    ├── generate-validate.prompt.md  # /generate-validate command
    ├── build-prp.prompt.md   # /build-prp command
    ├── execute-prp.prompt.md  # /execute-prp command
    ├── validate.prompt.md     # /validate (template repo)
    ├── validate-project.prompt.md  # /validate-project (generated)
    └── generate-prompt.prompt.md  # /generate-prompt command

.vscode/
├── settings.json              # Workspace settings (auto-applied)
└── README.md                  # This file
```

## How It Works

### copilot-instructions.md
Located at `.github/copilot-instructions.md`, this file provides global context to Copilot about:
- Project architecture and structure
- Coding standards and conventions
- Key patterns to follow
- Validation requirements

Copilot reads this automatically when `useInstructionFiles` is enabled.

### Prompt Files
Files in `.github/prompts/` with `.prompt.md` extension become slash commands. **Same workflow in all three IDEs** (VS Code, Claude Code, Cursor): `/generate-validate` creates **`/validate-project`** in each IDE.

- `generate-prp.prompt.md` → `/generate-prp`
- `execute-prp.prompt.md` → `/execute-prp`
- `generate-prompt.prompt.md` → `/generate-prompt`
- **`validate-project.prompt.md`** → **`/validate-project`** (generated by `/generate-validate`; use this for project validation)
- `validate.prompt.md` → `/validate` (template repo only)
- `generate-validate.prompt.md` → `/generate-validate`

### Workspace Settings
`.vscode/settings.json` configures:
- `chat.promptFiles`: Enables slash commands
- `useInstructionFiles`: Auto-includes copilot-instructions.md
- `chat.agent.enabled`: Allows file edits and terminal commands

## Comparison with Claude Code

This project supports both VS Code (Copilot) and Claude Code:

| Aspect | VS Code | Claude Code |
|--------|---------|-------------|
| Instructions | `.github/copilot-instructions.md` | `CLAUDE.md` |
| Commands | `.github/prompts/*.prompt.md` | `.claude/commands/*.md` |
| Settings | `.vscode/settings.json` | `.claude/settings.local.json` |
| Variables | N/A | `$ARGUMENTS` |

Both setups provide the same core workflow (execution order):
1. `/new-project` (when starting) → Define requirements in `INITIAL.md`
2. `/generate-prp` → `/generate-validate` (once) → `/build-prp` (optional) → `/execute-prp` → `/validate-project`
3. `/generate-prompt` anytime for quick tasks

## Customization

### Add New Commands
Create a new file in `.github/prompts/`:

```markdown
---
agent: 'agent'
description: What this command does
---

# Command Name

Instructions for the AI agent...
```

### Modify Global Instructions
Edit `.github/copilot-instructions.md` to:
- Add project-specific patterns
- Update coding standards
- Include new validation requirements

### Per-Folder Instructions
Create additional instruction files in subdirectories:
- `use-cases/pydantic-ai/.github/copilot-instructions.md`
- `use-cases/mcp-server/.github/copilot-instructions.md`

## Troubleshooting

### Commands Not Appearing
1. Check `chat.promptFiles` is `true` in settings
2. Restart VS Code
3. Verify files have `.prompt.md` extension

### Copilot Not Following Instructions
1. Verify `useInstructionFiles` is enabled
2. Check `.github/copilot-instructions.md` exists
3. Instructions may be too long - keep under 8000 tokens

### Agent Mode Not Working
1. Ensure `chat.agent.enabled` is `true`
2. You may need Copilot Pro/Business subscription
3. Some operations require explicit approval
